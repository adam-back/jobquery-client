<h1>Company Dossier</h1>
<h2>View or edit companies in detail</h2>

<h4>Company Information</h4>

<form name="companyForm" ng-submit="toggleEdit()">
    <input class="btn" ng-class="readOnly ? 'btn-primary' : 'btn-success'" type="submit" ng-value="readOnly ? '✎  Edit' : '✔  Save'"></input>
    <br />
    <br />
    <table class="table table-striped table-condensed">
        <tr>
            <th>Company Name:</th>
            <td><input type="text" size="50" ng-readonly="readOnly" ng-model="company.name" autofocus required></td>
        </tr>
        <tr>
            <th>Tagline:</th>
            <td><input type="text" size="75" ng-readonly="readOnly" ng-model="company.tagline"></td>
        </tr>
        <tr>
            <th>Description</th>
            <td><textarea cols="75" rows="10" ng-readonly="readOnly" ng-model="company.description"></textarea></td>
        </tr>
        <tr>
            <th>Address</th>
            <td><input type="text" size="50" ng-readonly="readOnly" ng-model="company.address"></td>
        </tr>
        <tr>
            <th>City</th>
            <td><input type="text" size="50" ng-readonly="readOnly" ng-model="company.city"></td>
        </tr>
        <tr>
            <th>State</th>
            <td><input type="text" size="50" ng-readonly="readOnly" ng-model="company.state"></td>
        </tr>
        <tr>
            <th>Country</th>
            <td><input type="text" size="50" ng-readonly="readOnly" ng-model="company.country"></td>
        </tr>
        <tr>
            <th>Media</th>
            <td><button class="btn btn-default btn-xs" type="button" ng-click="addMedia(); readOnly=false">+ Add New</button></td>
        </tr>
        <tr ng-repeat="media in company.media track by $index">
            <th></th>
            <td>
                <input size="25" type="text" ng-readonly="readOnly" ng-model="media.caption" placeholder="caption">
                <input size="50" type="url" ng-readonly="readOnly" ng-model="media.url" placeholder="url">
                <a ng-href="{{media.url}}" target="_blank"><span class="glyphicon glyphicon-new-window"></span><a/>
                <button class="btn btn-default btn-xs" type="button" ng-click="removeMedia($index)" ng-show="!readOnly">Remove</button>
            </td>
        </tr>
        <tr>
            <th>Learn More</th>
            <td><button class="btn btn-default btn-xs" type="button" ng-click="addLink(); readOnly=false">+ Add New</button></td>
        </tr>
        <tr ng-repeat="link in company.links track by $index">
            <th></th>
            <td>
                <input size="25" type="text" ng-readonly="readOnly" ng-model="link.title" placeholder="title">
                <input size="50" type="url" ng-readonly="readOnly" ng-model="link.url" placeholder="url">
                <a ng-href="{{link.url}}" target="_blank"><span class="glyphicon glyphicon-new-window"></span><a/>
                <button class="btn btn-default btn-xs" type="button" ng-click="removeLink($index)" ng-show="!readOnly">Remove</button>
            </td>
        </tr>
    </table>
    <input class="btn" ng-class="readOnly ? 'btn-primary' : 'btn-success'" type="submit" ng-value="readOnly ? '✎  Edit' : '✔  Save'"></input>
    <br />
    <br />


    <div class="content-section container-fluid" ng-show="opportunities">
        <div class="row">
            <div class="tablebox-title">Associated Opportunities</div>
            <table class="tablebox">
                <thead>
                    <tr class="tablebox-header">
                        <th>Role</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="tablebox-content" ng-repeat="opportunity in opportunities" ui-sref="admin.opportunities.detail({_id: opportunity._id})">
                        <td>{{ opportunity.jobTitle }}</td>
                        <td>{{ opportunity.description }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</form>
