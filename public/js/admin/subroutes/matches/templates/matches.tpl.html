<div ui-view>
    <div class="content-header">
        <div class="content-header-block text-left">
<!--             <span class="content-action" ui-sref="admin.matches.schedule">
                <span class="glyphicon glyphicon-calendar"></span>
                <span>See Schedule</span>
            </span> -->
            <span class="content-action" ng-click="downloadData()">
                <span class="glyphicon glyphicon-download"></span>
                <span>Download Matches</span>
            </span>
        </div>
        <div class="content-header-block">
            <div class="content-title">Matches</div>
            <div class="content-tagline">View or edit the match grid</div>
        </div>
    </div>

    <div>
        <h4>Schedule Parameters</h4>
        <form ng-submit="downloadSchedule()">
            <div><input ng-model="rounds" type="number" min="0" max="15" placeholder="# of Rounds" required></input> # of Rounds</div>
            <div><input ng-model="maxInterviews" type="number" min="0" max="15" placeholder="Max # of Interviews" required></input> Max # of Interivews</div>
            <div><input ng-model="minInterviews" type="number" min="0" max="15" placeholder="Min # of Interviews" required></input> Min # of Interviews</div>
            <input class="content-action" type="submit" value="Download Schedule"></input>
        </form>
    </div>

    <div class="content-section container-fluid">
        <div class="row">
        <div class="gridbox-title">Candidate - Opportunity Match Grid</div>
        <div class="content-scrollable">
        <table class="matchTable">
            <thead>
                <tr class="gridbox-header">
                    <th style="min-width: 200px; max-width: 200px"></th><!-- empty table header-->
                    <th class="pointer" style="min-width: 100px; max-width: 100px" ng-repeat-start="(key, opportunity) in opportunities">
                        {{ opportunity.company.name }}: {{ opportunity.jobTitle }}
                    </th>
                    <th ng-repeat-end ng-if="$index > 0 && $index % 10 === 0 && !$last">
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="gridbox-content" ng-repeat-start="(userId, row) in matrix">
                    <td style="min-width: 200px; max-width: 200px; font-weight: 400">{{ userMap[userId] }}</td>
                    <td style="min-width: 100px; max-width: 100px; font-weight: 600" ng-repeat-start="match in row track by $index">
                        <input class="text-center" ng-model="match.value" ng-blur="edit(match)" ng-class="isOverridden(match)" type="number" min="1" max="4" required></input>
                    </td>
                    <td ng-repeat-end ng-if="$index > 0 && $index % 10 === 0 && !$last" style="min-width: 200px; max-width: 200px; font-weight: 400">{{ userMap[userId] }}
                    </td>
                </tr>
                <tr class="gridbox-header"ng-repeat-end ng-if="$index > 0 && $index % 10 === 0 && !$last">
                    <th style="min-width: 200px; max-width: 200px"></th><!-- empty table header-->
                    <th style="min-width: 100px; max-width: 100px" ng-repeat-start="(key, opportunity) in opportunities">
                        {{ opportunity.company.name }}: {{ opportunity.jobTitle }}
                    </th>
                    <th ng-repeat-end ng-if="$index > 0 && $index % 10 === 0 && !$last">
                    </th>
                </tr>
            </tbody>
        </table>
        </div>
        </div>
    </div>
</div>
