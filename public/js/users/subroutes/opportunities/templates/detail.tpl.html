<div class="content-header">
    <div class="content-header-block text-left">
        <!-- buttons -->
    </span>
    </div>
    <div class="content-header-block">
        <div class="content-title">Opportunity Dossier</div>
        <div class="content-tagline">{{ opportunity.company.name }}: {{ opportunity.jobTitle }}</div>
    </div>
</div>

<div ng-show="opportunity">
<div class="row">
    <div class="section container-fluid">
    <div class="content-section container-fluid">
        <div class="formbox-title">Basic Information</div>
        <table class="formbox formbox-basic">
            <tr>
                <td>{{ opportunity.description }}</td>
                <td>
                    <span>Company: {{ opportunity.company.name}}</span><br>
                    <span>Title: {{ opportunity.jobTitle }}</span><br>
                    <div ng-repeat="link in opportunity.links">
                        <span ng-show="$first">Read more:</span>
                        <span><a ng-href="{{link.url}}">{{link.url}}</a></span> 
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class="content-section container-fluid">
        <div class="formbox-title">Indicate Interest</div>
        <div class="dashbox dashbox-content">
            <div class="dashbox-icon" ng-click="updateInterest(1)" ng-class="{'dashbox-icon-active':hasInterest(1)}">
                <span class="dashbox-icon-dingbat">➀</span><br>None
            </div>
            <div class="dashbox-icon" ng-click="updateInterest(2)" ng-class="{'dashbox-icon-active':hasInterest(2)}">
                <span class="dashbox-icon-dingbat">➁</span><br>Low
            </div>
            <div class="dashbox-icon" ng-click="updateInterest(3)" ng-class="{'dashbox-icon-active':hasInterest(3)}">
                <span class="dashbox-icon-dingbat">➂</span><br>Medium
            </div>
            <div class="dashbox-icon" ng-click="updateInterest(4)" ng-class="{'dashbox-icon-active':hasInterest(4)}">
                <span class="dashbox-icon-dingbat">➃</span><br>High
            </div>
        </div>
    </div>

    <div class="content-section container-fluid">
    <div class="formbox-title">Additional Questions</div>
        <form ng-submit="submit()">
            <div ng-show="questions">
                <h2>Questions</h2>
                <div ng-repeat="question in questions | filter:{active: true}">
                    <h3>{{question.question}}</h3>
                    <input ng-model="answers[question.index].answer" required>
                </div>
            </div>

            <input class="content-button" type="submit" value="{{submitText}}" ng-disabled="pendingRequest === 0">
        </form>
    </div>

    <div class="col-md-6">
        <h1>Guidance ({{ score + '%' }} Match)</h1>
        <div ng-repeat="tags in processedTags">
            <h1>{{$first ? 'Must Have' : 'Nice to Have'}}</h1>
            <div ng-repeat="tagType in tags">
                <table class="table table-condensed" ng-show="tagType">
                    <th></th>
                    <th>Your Value</th>
                    <th>Their Value</th>
                    <th>Comparison</th>
                    <tr ng-repeat="tag in tagType">
                        <td>{{tag.name}}</td>
                        <td>{{tag.userValue}}</td>
                        <td>{{tag.value}}</td>
                        <td><span class="glyphicon" ng-class="calculateFit(tag.importance, tag.value, tag.userValue)[0]" ng-if="tag.type !== 'text'" ng-style="{color: calculateFit(tag.importance, tag.value, tag.userValue)[1]}"></span></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div><!-- end row -->
</div>